{"ast":null,"code":"import _toConsumableArray from \"/Users/trinhchin/Desktop/helloChin/tui-calendar/react-tui-calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/trinhchin/Desktop/helloChin/tui-calendar/react-tui-calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/trinhchin/Desktop/helloChin/tui-calendar/react-tui-calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/trinhchin/Desktop/helloChin/tui-calendar/react-tui-calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/trinhchin/Desktop/helloChin/tui-calendar/react-tui-calendar/src/components/CustomTuiCalendar.js\";\n\nimport React, { useRef, useLayoutEffect, useEffect, useState, forwardRef, useImperativeHandle } from \"react\";\nimport TuiCalendar from \"tui-calendar\";\nimport moment from \"moment\";\nimport \"tui-calendar/dist/tui-calendar.css\";\nimport \"./styles.css\";\nvar CustomTuiCalendar = forwardRef(function (_ref, ref) {\n  var _ref$height = _ref.height,\n      height = _ref$height === void 0 ? \"800px\" : _ref$height,\n      _ref$defaultView = _ref.defaultView,\n      defaultView = _ref$defaultView === void 0 ? \"week\" : _ref$defaultView,\n      _ref$calendars = _ref.calendars,\n      calendars = _ref$calendars === void 0 ? [] : _ref$calendars,\n      _ref$schedules = _ref.schedules,\n      schedules = _ref$schedules === void 0 ? [] : _ref$schedules,\n      _ref$isReadOnly = _ref.isReadOnly,\n      isReadOnly = _ref$isReadOnly === void 0 ? true : _ref$isReadOnly,\n      _ref$showSlidebar = _ref.showSlidebar,\n      showSlidebar = _ref$showSlidebar === void 0 ? false : _ref$showSlidebar,\n      _ref$showMenu = _ref.showMenu,\n      showMenu = _ref$showMenu === void 0 ? false : _ref$showMenu,\n      onCreate = _ref.onCreate,\n      _ref$createText = _ref.createText,\n      createText = _ref$createText === void 0 ? \"New schedule\" : _ref$createText,\n      _ref$onBeforeCreateSc = _ref.onBeforeCreateSchedule,\n      onBeforeCreateSchedule = _ref$onBeforeCreateSc === void 0 ? function () {\n    return false;\n  } : _ref$onBeforeCreateSc,\n      _ref$onBeforeUpdateSc = _ref.onBeforeUpdateSchedule,\n      onBeforeUpdateSchedule = _ref$onBeforeUpdateSc === void 0 ? function () {\n    return false;\n  } : _ref$onBeforeUpdateSc,\n      _ref$onBeforeDeleteSc = _ref.onBeforeDeleteSchedule,\n      onBeforeDeleteSchedule = _ref$onBeforeDeleteSc === void 0 ? function () {\n    return false;\n  } : _ref$onBeforeDeleteSc,\n      rest = _objectWithoutProperties(_ref, [\"height\", \"defaultView\", \"calendars\", \"schedules\", \"isReadOnly\", \"showSlidebar\", \"showMenu\", \"onCreate\", \"createText\", \"onBeforeCreateSchedule\", \"onBeforeUpdateSchedule\", \"onBeforeDeleteSchedule\"]);\n\n  var calendarInstRef = useRef(null);\n  var tuiRef = useRef(null);\n  var wrapperRef = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      renderRange = _useState4[0],\n      setRenderRange = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      workweek = _useState6[0],\n      setWorkweek = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      narrowWeekend = _useState8[0],\n      setNarrowWeekend = _useState8[1];\n\n  var _useState9 = useState(1),\n      _useState10 = _slicedToArray(_useState9, 2),\n      startDayOfWeek = _useState10[0],\n      setStartDayOfWeek = _useState10[1];\n\n  var _useState11 = useState(\"Weekly\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      type = _useState12[0],\n      setType = _useState12[1];\n\n  var _useState13 = useState(calendars.map(function (element) {\n    return _objectSpread(_objectSpread({}, element), {}, {\n      isChecked: true\n    });\n  })),\n      _useState14 = _slicedToArray(_useState13, 2),\n      checkedCalendars = _useState14[0],\n      setCheckedCalendars = _useState14[1];\n\n  var _useState15 = useState(schedules),\n      _useState16 = _slicedToArray(_useState15, 2),\n      filterSchedules = _useState16[0],\n      setFilterSchedules = _useState16[1];\n\n  useImperativeHandle(ref, function () {\n    return {\n      getAlert() {\n        alert(\"getAlert from Child\");\n      },\n\n      createSchedule,\n      updateSchedule,\n      deleteSchedule\n    };\n  });\n  useEffect(function () {\n    calendarInstRef.current = new TuiCalendar(tuiRef.current, _objectSpread({\n      useDetailPopup: true,\n      useCreationPopup: true,\n      template: {\n        milestone: function milestone(schedule) {\n          return '<span class=\"calendar-font-icon ic-milestone-b\"></span> <span style=\"background-color: ' + schedule.bgColor + '\">' + schedule.title + \"</span>\";\n        },\n        milestoneTitle: function milestoneTitle() {\n          return '<span class=\"tui-full-calendar-left-content\">MILESTONE</span>';\n        },\n        task: function task(schedule) {\n          return \"#\" + schedule.title;\n        },\n        taskTitle: function taskTitle() {\n          return '<span class=\"tui-full-calendar-left-content\">TASK</span>';\n        },\n        allday: function allday(schedule) {\n          return _getTimeTemplate(schedule, true);\n        },\n        alldayTitle: function alldayTitle() {\n          return '<span class=\"tui-full-calendar-left-content\">ALL DAY</span>';\n        },\n        time: function time(schedule) {\n          return _getTimeTemplate(schedule, false); // return (\n          //   \"<strong>\" +\n          //   moment(schedule.start.getTime()).format(\"HH:mm\") +\n          //   \"</strong> \" +\n          //   schedule.title\n          // );\n        },\n        goingDuration: function goingDuration(schedule) {\n          return '<span class=\"calendar-icon ic-travel-time\"></span>' + schedule.goingDuration + \"min.\";\n        },\n        comingDuration: function comingDuration(schedule) {\n          return '<span class=\"calendar-icon ic-travel-time\"></span>' + schedule.comingDuration + \"min.\";\n        },\n        monthMoreTitleDate: function monthMoreTitleDate(date, dayname) {\n          var day = date.split(\".\")[2];\n          return '<span class=\"tui-full-calendar-month-more-title-day\">' + day + '</span> <span class=\"tui-full-calendar-month-more-title-day-label\">' + dayname + \"</span>\";\n        },\n        monthMoreClose: function monthMoreClose() {\n          return '<span class=\"tui-full-calendar-icon tui-full-calendar-ic-close\"></span>';\n        },\n        monthGridHeader: function monthGridHeader(dayModel) {\n          var date = parseInt(dayModel.date.split(\"-\")[2], 10);\n          var classNames = [\"tui-full-calendar-weekday-grid-date \"];\n\n          if (dayModel.isToday) {\n            classNames.push(\"tui-full-calendar-weekday-grid-date-decorator\");\n          }\n\n          return '<span class=\"' + classNames.join(\" \") + '\">' + date + \"</span>\";\n        },\n        monthGridHeaderExceed: function monthGridHeaderExceed(hiddenSchedules) {\n          return '<span class=\"weekday-grid-more-schedules\">+' + hiddenSchedules + \"</span>\";\n        },\n        monthGridFooter: function monthGridFooter() {\n          return \"\";\n        },\n        monthGridFooterExceed: function monthGridFooterExceed(hiddenSchedules) {\n          return \"\";\n        },\n        monthDayname: function monthDayname(model) {\n          return model.label.toString().toLocaleUpperCase();\n        },\n        weekDayname: function weekDayname(model) {\n          return '<span class=\"tui-full-calendar-dayname-date\">' + model.date + '</span>&nbsp;&nbsp;<span class=\"tui-full-calendar-dayname-name\">' + model.dayName + \"</span>\";\n        },\n        weekGridFooterExceed: function weekGridFooterExceed(hiddenSchedules) {\n          return \"+\" + hiddenSchedules;\n        },\n        dayGridTitle: function dayGridTitle(viewName) {\n          // use another functions instead of 'dayGridTitle'\n          // milestoneTitle: function() {...}\n          // taskTitle: function() {...}\n          // alldayTitle: function() {...}\n          var title = \"\";\n\n          switch (viewName) {\n            case \"milestone\":\n              title = '<span class=\"tui-full-calendar-left-content\">MILESTONE</span>';\n              break;\n\n            case \"task\":\n              title = '<span class=\"tui-full-calendar-left-content\">TASK</span>';\n              break;\n\n            case \"allday\":\n              title = '<span class=\"tui-full-calendar-left-content\">ALL DAY</span>';\n              break;\n\n            default:\n              break;\n          }\n\n          return title;\n        },\n        // schedule: function(schedule) {\n        //   // use another functions instead of 'schedule'\n        //   // milestone: function() {...}\n        //   // task: function() {...}\n        //   // allday: function() {...}\n        //   var tpl;\n        //   switch (category) {\n        //     case \"milestone\":\n        //       tpl =\n        //         '<span class=\"calendar-font-icon ic-milestone-b\"></span> <span style=\"background-color: ' +\n        //         schedule.bgColor +\n        //         '\">' +\n        //         schedule.title +\n        //         \"</span>\";\n        //       break;\n        //     case \"task\":\n        //       tpl = \"#\" + schedule.title;\n        //       break;\n        //     case \"allday\":\n        //       tpl = _getTimeTemplate(schedule, true);\n        //       break;\n        //     default:\n        //       break;\n        //   }\n        //   return tpl;\n        // },\n        collapseBtnTitle: function collapseBtnTitle() {\n          return '<span class=\"tui-full-calendar-icon tui-full-calendar-ic-arrow-solid-top\"></span>';\n        },\n        // timezoneDisplayLabel: function(timezoneOffset, displayLabel) {\n        //   var gmt, hour, minutes;\n        //   if (!displayLabel) {\n        //     gmt = timezoneOffset < 0 ? \"-\" : \"+\";\n        //     hour = Math.abs(parseInt(timezoneOffset / 60, 10));\n        //     minutes = Math.abs(timezoneOffset % 60);\n        //     displayLabel = gmt + getPadStart(hour) + \":\" + getPadStart(minutes);\n        //   }\n        //   return displayLabel;\n        // },\n        timegridDisplayPrimayTime: function timegridDisplayPrimayTime(time) {\n          // will be deprecated. use 'timegridDisplayPrimaryTime'\n          var meridiem = \"am\";\n          var hour = time.hour;\n\n          if (time.hour > 12) {\n            meridiem = \"pm\";\n            hour = time.hour - 12;\n          }\n\n          return hour + \" \" + meridiem;\n        },\n        timegridDisplayPrimaryTime: function timegridDisplayPrimaryTime(time) {\n          var meridiem = \"am\";\n          var hour = time.hour;\n\n          if (time.hour > 12) {\n            meridiem = \"pm\";\n            hour = time.hour - 12;\n          }\n\n          return hour + \" \" + meridiem;\n        },\n        // timegridDisplayTime: function(time) {\n        //   return getPadStart(time.hour) + \":\" + getPadStart(time.hour);\n        // },\n        timegridCurrentTime: function timegridCurrentTime(timezone) {\n          var templates = [];\n\n          if (timezone.dateDifference) {\n            templates.push(\"[\" + timezone.dateDifferenceSign + timezone.dateDifference + \"]<br>\");\n          }\n\n          templates.push(moment(timezone.hourmarker).format(\"HH:mm a\"));\n          return templates.join(\"\");\n        },\n        popupIsAllDay: function popupIsAllDay() {\n          return \"All Day1\";\n        },\n        popupStateFree: function popupStateFree() {\n          return \"Free1\";\n        },\n        popupStateBusy: function popupStateBusy() {\n          return \"Busy1\";\n        },\n        titlePlaceholder: function titlePlaceholder() {\n          return \"Subject1\";\n        },\n        locationPlaceholder: function locationPlaceholder() {\n          return \"Location1\";\n        },\n        startDatePlaceholder: function startDatePlaceholder() {\n          return \"Start date\";\n        },\n        endDatePlaceholder: function endDatePlaceholder() {\n          return \"End date\";\n        },\n        popupSave: function popupSave() {\n          return \"Save\";\n        },\n        popupUpdate: function popupUpdate() {\n          return \"Update1\";\n        },\n        popupDetailDate: function popupDetailDate(isAllDay, start, end) {\n          var isSameDate = moment(start).isSame(end);\n          var endFormat = (isSameDate ? \"\" : \"YYYY.MM.DD \") + \"hh:mm a\";\n\n          if (isAllDay) {\n            return moment(start).format(\"YYYY.MM.DD\") + (isSameDate ? \"\" : \" - \" + moment(end).format(\"YYYY.MM.DD\"));\n          }\n\n          return moment(start).format(\"YYYY.MM.DD hh:mm a\") + \" - \" + moment(end).format(endFormat);\n        },\n        popupDetailLocation: function popupDetailLocation(schedule) {\n          return \"Location1 : \" + schedule.location;\n        },\n        popupDetailUser: function popupDetailUser(schedule) {\n          return \"Staff : \" + (schedule.attendees || []).join(\", \");\n        },\n        popupDetailState: function popupDetailState(schedule) {\n          return \"State1 : \" + schedule.state || \"Busy\";\n        },\n        popupDetailRepeat: function popupDetailRepeat(schedule) {\n          return \"Repeat1 : \" + schedule.recurrenceRule;\n        },\n        popupDetailBody: function popupDetailBody(schedule) {\n          return \"Body1 : \" + schedule.body;\n        },\n        popupEdit: function popupEdit() {\n          return \"Edit1\";\n        },\n        popupDelete: function popupDelete() {\n          return \"Delete1\";\n        }\n      },\n      // template: {\n      //   time: function(schedule) {\n      //     // console.log(schedule);\n      //     return _getTimeTemplate(schedule, false);\n      //   }\n      // },\n      calendars\n    }, rest));\n    setRenderRangeText(); // render schedules\n\n    calendarInstRef.current.clear();\n    calendarInstRef.current.createSchedules(filterSchedules, true);\n    calendarInstRef.current.render();\n    calendarInstRef.current.on(\"beforeCreateSchedule\", function (event) {\n      onBeforeCreateSchedule(event);\n    });\n    calendarInstRef.current.on(\"beforeUpdateSchedule\", function (event) {\n      onBeforeUpdateSchedule(event);\n    });\n    calendarInstRef.current.on(\"beforeDeleteSchedule\", function (event) {\n      onBeforeDeleteSchedule(event);\n    });\n    calendarInstRef.current.on(\"clickSchedule\", function (event) {// var schedule = event.schedule;\n      // console.log(\"clickSchedule\", event);\n      // if (lastClickSchedule) {\n      //   calendarInstRef.current.updateSchedule(\n      //     lastClickSchedule.id,\n      //     lastClickSchedule.calendarId,\n      //     {\n      //       isFocused: false\n      //     }\n      //   );\n      // }\n      // calendarInstRef.current.updateSchedule(schedule.id, schedule.calendarId, {\n      //   isFocused: true\n      // });\n      // lastClickSchedule = schedule;\n      // open detail view\n    });\n    calendarInstRef.current.on(\"clickDayname\", function (event) {\n      // console.log(\"clickDayname\", event);\n      if (calendarInstRef.current.getViewName() === \"week\") {\n        calendarInstRef.current.setDate(new Date(event.date));\n        calendarInstRef.current.changeView(\"day\", true);\n      }\n    });\n    calendarInstRef.current.on(\"clickMore\", function (event) {// console.log(\"clickMore\", event.date, event.target);\n    });\n    calendarInstRef.current.on(\"clickTimezonesCollapseBtn\", function (timezonesCollapsed) {// console.log(timezonesCollapsed);\n    });\n    calendarInstRef.current.on(\"afterRenderSchedule\", function (event) {// var schedule = event.schedule;\n      // var element = calendarInstRef.current.getElement(\n      //   schedule.id,\n      //   schedule.calendarId\n      // );\n      // use the element\n      // console.log(element);\n    });\n    return function () {\n      calendarInstRef.current.destroy();\n    };\n  }, [tuiRef, schedules]);\n  useLayoutEffect(function () {// console.log(\"before render\");\n  });\n\n  function currentCalendarDate(format) {\n    var currentDate = moment([calendarInstRef.current.getDate().getFullYear(), calendarInstRef.current.getDate().getMonth(), calendarInstRef.current.getDate().getDate()]);\n    return currentDate.format(format);\n  }\n\n  function setRenderRangeText() {\n    var options = calendarInstRef.current.getOptions();\n    var viewName = calendarInstRef.current.getViewName();\n    var html = [];\n\n    if (viewName === \"day\") {\n      html.push(currentCalendarDate(\"YYYY.MM.DD\"));\n    } else if (viewName === \"month\" && (!options.month.visibleWeeksCount || options.month.visibleWeeksCount > 4)) {\n      html.push(currentCalendarDate(\"YYYY.MM\"));\n    } else {\n      html.push(moment(calendarInstRef.current.getDateRangeStart().getTime()).format(\"YYYY.MM.DD\"));\n      html.push(\" ~ \");\n      html.push(moment(calendarInstRef.current.getDateRangeEnd().getTime()).format(\" MM.DD\"));\n    }\n\n    setRenderRange(html.join(\"\"));\n  }\n\n  function _getFormattedTime(time) {\n    var date = new Date(time);\n    var h = date.getHours();\n    var m = date.getMinutes();\n    return \"\".concat(h, \":\").concat(m);\n  }\n\n  function _getTimeTemplate(schedule, isAllDay) {\n    var html = [];\n\n    if (!isAllDay) {\n      html.push(\"<strong>\" + _getFormattedTime(schedule.start) + \"</strong> \");\n    }\n\n    if (schedule.isPrivate) {\n      html.push('<span class=\"calendar-font-icon ic-lock-b\"></span>');\n      html.push(\" Private\");\n    } else {\n      if (schedule.isReadOnly) {\n        html.push('<span class=\"calendar-font-icon ic-readonly-b\"></span>');\n      } else if (schedule.recurrenceRule) {\n        html.push('<span class=\"calendar-font-icon ic-repeat-b\"></span>');\n      } else if (schedule.attendees.length) {\n        html.push('<span class=\"calendar-font-icon ic-user-b\"></span>');\n      } else if (schedule.location) {\n        html.push('<span class=\"calendar-font-icon ic-location-b\"></span>');\n      }\n\n      html.push(\" \" + schedule.title);\n    }\n\n    return html.join(\"\");\n  }\n\n  useEffect(function () {\n    document.addEventListener(\"click\", handleClick, false);\n    return function () {\n      document.removeEventListener(\"click\", handleClick, false);\n    };\n  });\n\n  var handleClick = function handleClick(e) {\n    var _wrapperRef$current;\n\n    if ((_wrapperRef$current = wrapperRef.current) === null || _wrapperRef$current === void 0 ? void 0 : _wrapperRef$current.contains(e.target)) {\n      // inside click\n      // console.log(\"inside\");\n      return;\n    } // outside click\n    // ... do whatever on click outside here ...\n    // console.log(\"outside\");\n\n\n    setOpen(false);\n  };\n\n  var handleAllChecked = function handleAllChecked(event) {\n    var cloneCheckedCalendars = _toConsumableArray(checkedCalendars);\n\n    cloneCheckedCalendars.forEach(function (element) {\n      return element.isChecked = event.target.checked;\n    });\n    setCheckedCalendars(cloneCheckedCalendars);\n    filterCalendar(cloneCheckedCalendars);\n  };\n\n  var handleCheckChieldElement = function handleCheckChieldElement(event) {\n    var cloneCheckedCalendars = _toConsumableArray(checkedCalendars);\n\n    cloneCheckedCalendars.forEach(function (element) {\n      if (element.id === event.target.value) element.isChecked = event.target.checked;\n    });\n    setCheckedCalendars(cloneCheckedCalendars);\n    filterCalendar(cloneCheckedCalendars);\n  };\n\n  var filterCalendar = function filterCalendar(cloneCheckedCalendars) {\n    var filterCalendars = cloneCheckedCalendars.filter(function (element) {\n      return element.isChecked === false;\n    }).map(function (item) {\n      return item.id;\n    });\n    var cloneSchedules = filterSchedules.filter(function (element) {\n      return filterCalendars.indexOf(element.calendarId) === -1;\n    }); // rerender\n\n    calendarInstRef.current.clear();\n    calendarInstRef.current.createSchedules(cloneSchedules, true);\n    calendarInstRef.current.render();\n  }; // const capitalizeFirstLetter = (value = \"\") => {\n  //   return [...value[0].toUpperCase(), ...value.slice(1)].join(\"\");\n  // };\n\n\n  function createSchedule(schedule) {\n    console.log(\"createSchedule\");\n    calendarInstRef.current.createSchedules([schedule]);\n    setFilterSchedules(function (prevState) {\n      return [].concat(_toConsumableArray(prevState), [schedule]);\n    });\n  }\n\n  function updateSchedule(schedule, changes) {\n    console.log(\"updateSchedule\");\n    calendarInstRef.current.updateSchedule(schedule.id, schedule.calendarId, changes);\n    setFilterSchedules(function (prevState) {\n      return prevState.map(function (item) {\n        if (item.id === schedule.id) {\n          return _objectSpread(_objectSpread({}, item), changes);\n        }\n\n        return item;\n      });\n    });\n  }\n\n  function deleteSchedule(schedule) {\n    console.log(\"deleteSchedule\");\n    calendarInstRef.current.deleteSchedule(schedule.id, schedule.calendarId);\n    setFilterSchedules(function (prevState) {\n      return prevState.filter(function (item) {\n        return item.id !== schedule.id;\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 7\n    }\n  }, showSlidebar && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"lnb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 11\n    }\n  }, onCreate && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lnb-new-schedule\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"btn-new-schedule\",\n    type: \"button\",\n    className: \"btn btn-default btn-block lnb-new-schedule-btn\",\n    \"data-toggle\": \"modal\",\n    onClick: onCreate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 17\n    }\n  }, createText)), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"lnb-calendars\",\n    className: \"lnb-calendars\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lnb-calendars-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"tui-full-calendar-checkbox-square\",\n    type: \"checkbox\",\n    defaultValue: \"all\",\n    checked: checkedCalendars.every(function (element) {\n      return element.isChecked === true;\n    }),\n    onChange: handleAllChecked,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 21\n    }\n  }, \"View all\")))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"calendarList\",\n    className: \"lnb-calendars-d1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 15\n    }\n  }, checkedCalendars.map(function (element, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: \"lnb-calendars-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"tui-full-calendar-checkbox-round\",\n      defaultValue: element.id,\n      checked: element.isChecked,\n      onChange: function onChange(e) {\n        handleCheckChieldElement(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        borderColor: element.bgColor,\n        backgroundColor: element.isChecked ? element.bgColor : \"transparent\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 25\n      }\n    }, element.name)));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lnb-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 13\n    }\n  }, \"\\xA9 NHN Corp.\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"right\",\n    style: {\n      left: !showSlidebar && 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 9\n    }\n  }, showMenu && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"menu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    ref: wrapperRef,\n    style: {\n      marginRight: \"4px\"\n    },\n    className: \"dropdown \".concat(open && \"open\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"dropdownMenu-calendarType\",\n    className: \"btn btn-default btn-sm dropdown-toggle\",\n    type: \"button\",\n    \"data-toggle\": \"dropdown\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": open,\n    onClick: function onClick() {\n      return setOpen(!open);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    id: \"calendarTypeIcon\",\n    className: \"calendar-icon ic_view_week\",\n    style: {\n      marginRight: \"4px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"calendarTypeName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 19\n    }\n  }, type), \"\\xA0\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon tui-full-calendar-dropdown-arrow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"dropdown-menu\",\n    role: \"menu\",\n    \"aria-labelledby\": \"dropdownMenu-calendarType\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.changeView(\"day\", true);\n      setType(\"Daily\");\n      setOpen(false);\n    },\n    className: \"dropdown-menu-title\",\n    role: \"menuitem\",\n    \"data-action\": \"toggle-daily\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic_view_day\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 23\n    }\n  }), \"Daily\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.changeView(\"week\", true);\n      setType(\"Weekly\");\n      setOpen(false);\n    },\n    className: \"dropdown-menu-title\",\n    role: \"menuitem\",\n    \"data-action\": \"toggle-weekly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 703,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic_view_week\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 23\n    }\n  }), \"Weekly\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.setOptions({\n        month: {\n          visibleWeeksCount: 6\n        }\n      }, true); // or null\n\n      calendarInstRef.current.changeView(\"month\", true);\n      setType(\"Month\");\n      setOpen(false);\n    },\n    className: \"dropdown-menu-title\",\n    role: \"menuitem\",\n    \"data-action\": \"toggle-monthly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic_view_month\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 23\n    }\n  }), \"Month\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 740,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.setOptions({\n        month: {\n          visibleWeeksCount: 2\n        }\n      }, true); // or null\n\n      calendarInstRef.current.changeView(\"month\", true);\n      setType(\"2 weeks\");\n      setOpen(false);\n    },\n    className: \"dropdown-menu-title\",\n    role: \"menuitem\",\n    \"data-action\": \"toggle-weeks2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic_view_week\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 23\n    }\n  }), \"2 weeks\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.setOptions({\n        month: {\n          visibleWeeksCount: 3\n        }\n      }, true); // or null\n\n      calendarInstRef.current.changeView(\"month\", true);\n      setType(\"3 weeks\");\n      setOpen(false);\n    },\n    className: \"dropdown-menu-title\",\n    role: \"menuitem\",\n    \"data-action\": \"toggle-weeks3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic_view_week\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 23\n    }\n  }), \"3 weeks\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    className: \"dropdown-divider\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.setOptions({\n        month: {\n          workweek\n        }\n      }, true);\n      calendarInstRef.current.setOptions({\n        week: {\n          workweek\n        }\n      }, true);\n      calendarInstRef.current.changeView(calendarInstRef.current.getViewName(), true);\n      setWorkweek(!workweek);\n      setOpen(false);\n    },\n    role: \"menuitem\",\n    \"data-action\": \"toggle-workweek\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"tui-full-calendar-checkbox-square\",\n    checked: workweek,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"checkbox-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 23\n    }\n  }), \"Show weekends\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 813,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.setOptions({\n        week: {\n          startDayOfWeek\n        }\n      }, true);\n      calendarInstRef.current.setOptions({\n        month: {\n          startDayOfWeek\n        }\n      }, true);\n      calendarInstRef.current.changeView(calendarInstRef.current.getViewName(), true);\n      setStartDayOfWeek(startDayOfWeek === 1 ? 0 : 1);\n      setOpen(false);\n    },\n    role: \"menuitem\",\n    \"data-action\": \"toggle-start-day-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 814,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"tui-full-calendar-checkbox-square\",\n    checked: startDayOfWeek !== 1 ? true : false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"checkbox-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 841,\n      columnNumber: 23\n    }\n  }), \"Start Week on Monday\")), /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      calendarInstRef.current.setOptions({\n        month: {\n          narrowWeekend\n        }\n      }, true);\n      calendarInstRef.current.setOptions({\n        week: {\n          narrowWeekend\n        }\n      }, true);\n      calendarInstRef.current.changeView(calendarInstRef.current.getViewName(), true);\n      setNarrowWeekend(!narrowWeekend);\n      setOpen(false);\n    },\n    role: \"menuitem\",\n    \"data-action\": \"toggle-narrow-weekend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 846,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"tui-full-calendar-checkbox-square\",\n    checked: narrowWeekend,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 868,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"checkbox-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 873,\n      columnNumber: 23\n    }\n  }), \"Narrower than weekdays\")))), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"menu-navi\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 880,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-default btn-sm move-today\",\n    style: {\n      marginRight: \"4px\"\n    },\n    \"data-action\": \"move-today\",\n    onClick: function onClick() {\n      // console.log(\"today\");\n      calendarInstRef.current.today();\n      setRenderRangeText();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 17\n    }\n  }, \"Today\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-default btn-sm move-day\",\n    style: {\n      marginRight: \"4px\"\n    },\n    \"data-action\": \"move-prev\",\n    onClick: function onClick() {\n      // console.log(\"pre\");\n      calendarInstRef.current.prev();\n      setRenderRangeText();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic-arrow-line-left\",\n    \"data-action\": \"move-prev\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-default btn-sm move-day\",\n    style: {\n      marginRight: \"4px\"\n    },\n    \"data-action\": \"move-next\",\n    onClick: function onClick() {\n      // console.log(\"next\");\n      calendarInstRef.current.next();\n      setRenderRangeText();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"calendar-icon ic-arrow-line-right\",\n    \"data-action\": \"move-next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 921,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"renderRange\",\n    className: \"render-range\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 927,\n      columnNumber: 15\n    }\n  }, renderRange)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: tuiRef,\n    style: {\n      height\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 932,\n      columnNumber: 11\n    }\n  })));\n});\nexport default CustomTuiCalendar;","map":{"version":3,"sources":["/Users/trinhchin/Desktop/helloChin/tui-calendar/react-tui-calendar/src/components/CustomTuiCalendar.js"],"names":["React","useRef","useLayoutEffect","useEffect","useState","forwardRef","useImperativeHandle","TuiCalendar","moment","CustomTuiCalendar","ref","height","defaultView","calendars","schedules","isReadOnly","showSlidebar","showMenu","onCreate","createText","onBeforeCreateSchedule","onBeforeUpdateSchedule","onBeforeDeleteSchedule","rest","calendarInstRef","tuiRef","wrapperRef","open","setOpen","renderRange","setRenderRange","workweek","setWorkweek","narrowWeekend","setNarrowWeekend","startDayOfWeek","setStartDayOfWeek","type","setType","map","element","isChecked","checkedCalendars","setCheckedCalendars","filterSchedules","setFilterSchedules","getAlert","alert","createSchedule","updateSchedule","deleteSchedule","current","useDetailPopup","useCreationPopup","template","milestone","schedule","bgColor","title","milestoneTitle","task","taskTitle","allday","_getTimeTemplate","alldayTitle","time","goingDuration","comingDuration","monthMoreTitleDate","date","dayname","day","split","monthMoreClose","monthGridHeader","dayModel","parseInt","classNames","isToday","push","join","monthGridHeaderExceed","hiddenSchedules","monthGridFooter","monthGridFooterExceed","monthDayname","model","label","toString","toLocaleUpperCase","weekDayname","dayName","weekGridFooterExceed","dayGridTitle","viewName","collapseBtnTitle","timegridDisplayPrimayTime","meridiem","hour","timegridDisplayPrimaryTime","timegridCurrentTime","timezone","templates","dateDifference","dateDifferenceSign","hourmarker","format","popupIsAllDay","popupStateFree","popupStateBusy","titlePlaceholder","locationPlaceholder","startDatePlaceholder","endDatePlaceholder","popupSave","popupUpdate","popupDetailDate","isAllDay","start","end","isSameDate","isSame","endFormat","popupDetailLocation","location","popupDetailUser","attendees","popupDetailState","state","popupDetailRepeat","recurrenceRule","popupDetailBody","body","popupEdit","popupDelete","setRenderRangeText","clear","createSchedules","render","on","event","getViewName","setDate","Date","changeView","timezonesCollapsed","destroy","currentCalendarDate","currentDate","getDate","getFullYear","getMonth","options","getOptions","html","month","visibleWeeksCount","getDateRangeStart","getTime","getDateRangeEnd","_getFormattedTime","h","getHours","m","getMinutes","isPrivate","length","document","addEventListener","handleClick","removeEventListener","e","contains","target","handleAllChecked","cloneCheckedCalendars","forEach","checked","filterCalendar","handleCheckChieldElement","id","value","filterCalendars","filter","item","cloneSchedules","indexOf","calendarId","console","log","prevState","changes","every","i","borderColor","backgroundColor","name","left","marginRight","preventDefault","setOptions","week","today","prev","next"],"mappings":"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","sourcesContent":["import React, {\n  useRef,\n  useLayoutEffect,\n  useEffect,\n  useState,\n  forwardRef,\n  useImperativeHandle\n} from \"react\";\nimport TuiCalendar from \"tui-calendar\";\nimport moment from \"moment\";\n\nimport \"tui-calendar/dist/tui-calendar.css\";\n\nimport \"./styles.css\";\n\nconst CustomTuiCalendar = forwardRef(\n  (\n    {\n      height = \"800px\",\n      defaultView = \"week\",\n      calendars = [],\n      schedules = [],\n      isReadOnly = true,\n      showSlidebar = false,\n      showMenu = false,\n      onCreate,\n      createText = \"New schedule\",\n      onBeforeCreateSchedule = () => false,\n      onBeforeUpdateSchedule = () => false,\n      onBeforeDeleteSchedule = () => false,\n      ...rest\n    },\n    ref\n  ) => {\n    const calendarInstRef = useRef(null);\n    const tuiRef = useRef(null);\n    const wrapperRef = useRef(null);\n    const [open, setOpen] = useState(false);\n    const [renderRange, setRenderRange] = useState(\"\");\n    const [workweek, setWorkweek] = useState(true);\n    const [narrowWeekend, setNarrowWeekend] = useState(true);\n    const [startDayOfWeek, setStartDayOfWeek] = useState(1);\n    const [type, setType] = useState(\"Weekly\");\n    const [checkedCalendars, setCheckedCalendars] = useState(\n      calendars.map((element) => ({ ...element, isChecked: true }))\n    );\n    const [filterSchedules, setFilterSchedules] = useState(schedules);\n\n    useImperativeHandle(ref, () => ({\n      getAlert() {\n        alert(\"getAlert from Child\");\n      },\n      createSchedule,\n      updateSchedule,\n      deleteSchedule\n    }));\n\n    useEffect(() => {\n      calendarInstRef.current = new TuiCalendar(tuiRef.current, {\n        useDetailPopup: true,\n        useCreationPopup: true,\n        template: {\n          milestone: function (schedule) {\n            return (\n              '<span class=\"calendar-font-icon ic-milestone-b\"></span> <span style=\"background-color: ' +\n              schedule.bgColor +\n              '\">' +\n              schedule.title +\n              \"</span>\"\n            );\n          },\n          milestoneTitle: function () {\n            return '<span class=\"tui-full-calendar-left-content\">MILESTONE</span>';\n          },\n          task: function (schedule) {\n            return \"#\" + schedule.title;\n          },\n          taskTitle: function () {\n            return '<span class=\"tui-full-calendar-left-content\">TASK</span>';\n          },\n          allday: function (schedule) {\n            return _getTimeTemplate(schedule, true);\n          },\n          alldayTitle: function () {\n            return '<span class=\"tui-full-calendar-left-content\">ALL DAY</span>';\n          },\n          time: function (schedule) {\n            return _getTimeTemplate(schedule, false);\n            // return (\n            //   \"<strong>\" +\n            //   moment(schedule.start.getTime()).format(\"HH:mm\") +\n            //   \"</strong> \" +\n            //   schedule.title\n            // );\n          },\n          goingDuration: function (schedule) {\n            return (\n              '<span class=\"calendar-icon ic-travel-time\"></span>' +\n              schedule.goingDuration +\n              \"min.\"\n            );\n          },\n          comingDuration: function (schedule) {\n            return (\n              '<span class=\"calendar-icon ic-travel-time\"></span>' +\n              schedule.comingDuration +\n              \"min.\"\n            );\n          },\n          monthMoreTitleDate: function (date, dayname) {\n            var day = date.split(\".\")[2];\n\n            return (\n              '<span class=\"tui-full-calendar-month-more-title-day\">' +\n              day +\n              '</span> <span class=\"tui-full-calendar-month-more-title-day-label\">' +\n              dayname +\n              \"</span>\"\n            );\n          },\n          monthMoreClose: function () {\n            return '<span class=\"tui-full-calendar-icon tui-full-calendar-ic-close\"></span>';\n          },\n          monthGridHeader: function (dayModel) {\n            var date = parseInt(dayModel.date.split(\"-\")[2], 10);\n            var classNames = [\"tui-full-calendar-weekday-grid-date \"];\n\n            if (dayModel.isToday) {\n              classNames.push(\"tui-full-calendar-weekday-grid-date-decorator\");\n            }\n\n            return (\n              '<span class=\"' + classNames.join(\" \") + '\">' + date + \"</span>\"\n            );\n          },\n          monthGridHeaderExceed: function (hiddenSchedules) {\n            return (\n              '<span class=\"weekday-grid-more-schedules\">+' +\n              hiddenSchedules +\n              \"</span>\"\n            );\n          },\n          monthGridFooter: function () {\n            return \"\";\n          },\n          monthGridFooterExceed: function (hiddenSchedules) {\n            return \"\";\n          },\n          monthDayname: function (model) {\n            return model.label.toString().toLocaleUpperCase();\n          },\n          weekDayname: function (model) {\n            return (\n              '<span class=\"tui-full-calendar-dayname-date\">' +\n              model.date +\n              '</span>&nbsp;&nbsp;<span class=\"tui-full-calendar-dayname-name\">' +\n              model.dayName +\n              \"</span>\"\n            );\n          },\n          weekGridFooterExceed: function (hiddenSchedules) {\n            return \"+\" + hiddenSchedules;\n          },\n          dayGridTitle: function (viewName) {\n            // use another functions instead of 'dayGridTitle'\n            // milestoneTitle: function() {...}\n            // taskTitle: function() {...}\n            // alldayTitle: function() {...}\n\n            var title = \"\";\n            switch (viewName) {\n              case \"milestone\":\n                title =\n                  '<span class=\"tui-full-calendar-left-content\">MILESTONE</span>';\n                break;\n              case \"task\":\n                title =\n                  '<span class=\"tui-full-calendar-left-content\">TASK</span>';\n                break;\n              case \"allday\":\n                title =\n                  '<span class=\"tui-full-calendar-left-content\">ALL DAY</span>';\n                break;\n              default:\n                break;\n            }\n\n            return title;\n          },\n          // schedule: function(schedule) {\n          //   // use another functions instead of 'schedule'\n          //   // milestone: function() {...}\n          //   // task: function() {...}\n          //   // allday: function() {...}\n\n          //   var tpl;\n\n          //   switch (category) {\n          //     case \"milestone\":\n          //       tpl =\n          //         '<span class=\"calendar-font-icon ic-milestone-b\"></span> <span style=\"background-color: ' +\n          //         schedule.bgColor +\n          //         '\">' +\n          //         schedule.title +\n          //         \"</span>\";\n          //       break;\n          //     case \"task\":\n          //       tpl = \"#\" + schedule.title;\n          //       break;\n          //     case \"allday\":\n          //       tpl = _getTimeTemplate(schedule, true);\n          //       break;\n          //     default:\n          //       break;\n          //   }\n\n          //   return tpl;\n          // },\n          collapseBtnTitle: function () {\n            return '<span class=\"tui-full-calendar-icon tui-full-calendar-ic-arrow-solid-top\"></span>';\n          },\n          // timezoneDisplayLabel: function(timezoneOffset, displayLabel) {\n          //   var gmt, hour, minutes;\n\n          //   if (!displayLabel) {\n          //     gmt = timezoneOffset < 0 ? \"-\" : \"+\";\n          //     hour = Math.abs(parseInt(timezoneOffset / 60, 10));\n          //     minutes = Math.abs(timezoneOffset % 60);\n          //     displayLabel = gmt + getPadStart(hour) + \":\" + getPadStart(minutes);\n          //   }\n\n          //   return displayLabel;\n          // },\n          timegridDisplayPrimayTime: function (time) {\n            // will be deprecated. use 'timegridDisplayPrimaryTime'\n            var meridiem = \"am\";\n            var hour = time.hour;\n\n            if (time.hour > 12) {\n              meridiem = \"pm\";\n              hour = time.hour - 12;\n            }\n\n            return hour + \" \" + meridiem;\n          },\n          timegridDisplayPrimaryTime: function (time) {\n            var meridiem = \"am\";\n            var hour = time.hour;\n\n            if (time.hour > 12) {\n              meridiem = \"pm\";\n              hour = time.hour - 12;\n            }\n\n            return hour + \" \" + meridiem;\n          },\n          // timegridDisplayTime: function(time) {\n          //   return getPadStart(time.hour) + \":\" + getPadStart(time.hour);\n          // },\n          timegridCurrentTime: function (timezone) {\n            var templates = [];\n\n            if (timezone.dateDifference) {\n              templates.push(\n                \"[\" +\n                  timezone.dateDifferenceSign +\n                  timezone.dateDifference +\n                  \"]<br>\"\n              );\n            }\n\n            templates.push(moment(timezone.hourmarker).format(\"HH:mm a\"));\n\n            return templates.join(\"\");\n          },\n          popupIsAllDay: function () {\n            return \"All Day1\";\n          },\n          popupStateFree: function () {\n            return \"Free1\";\n          },\n          popupStateBusy: function () {\n            return \"Busy1\";\n          },\n          titlePlaceholder: function () {\n            return \"Subject1\";\n          },\n          locationPlaceholder: function () {\n            return \"Location1\";\n          },\n          startDatePlaceholder: function () {\n            return \"Start date\";\n          },\n          endDatePlaceholder: function () {\n            return \"End date\";\n          },\n          popupSave: function () {\n            return \"Save\";\n          },\n          popupUpdate: function () {\n            return \"Update1\";\n          },\n          popupDetailDate: function (isAllDay, start, end) {\n            var isSameDate = moment(start).isSame(end);\n            var endFormat = (isSameDate ? \"\" : \"YYYY.MM.DD \") + \"hh:mm a\";\n\n            if (isAllDay) {\n              return (\n                moment(start).format(\"YYYY.MM.DD\") +\n                (isSameDate ? \"\" : \" - \" + moment(end).format(\"YYYY.MM.DD\"))\n              );\n            }\n\n            return (\n              moment(start).format(\"YYYY.MM.DD hh:mm a\") +\n              \" - \" +\n              moment(end).format(endFormat)\n            );\n          },\n          popupDetailLocation: function (schedule) {\n            return \"Location1 : \" + schedule.location;\n          },\n          popupDetailUser: function (schedule) {\n            return \"Staff : \" + (schedule.attendees || []).join(\", \");\n          },\n          popupDetailState: function (schedule) {\n            return \"State1 : \" + schedule.state || \"Busy\";\n          },\n          popupDetailRepeat: function (schedule) {\n            return \"Repeat1 : \" + schedule.recurrenceRule;\n          },\n          popupDetailBody: function (schedule) {\n            return \"Body1 : \" + schedule.body;\n          },\n          popupEdit: function () {\n            return \"Edit1\";\n          },\n          popupDelete: function () {\n            return \"Delete1\";\n          }\n        },\n        // template: {\n        //   time: function(schedule) {\n        //     // console.log(schedule);\n        //     return _getTimeTemplate(schedule, false);\n        //   }\n        // },\n        calendars,\n        ...rest\n      });\n      setRenderRangeText();\n      // render schedules\n      calendarInstRef.current.clear();\n      calendarInstRef.current.createSchedules(filterSchedules, true);\n      calendarInstRef.current.render();\n\n      calendarInstRef.current.on(\"beforeCreateSchedule\", function (event) {\n        onBeforeCreateSchedule(event);\n      });\n      calendarInstRef.current.on(\"beforeUpdateSchedule\", function (event) {\n        onBeforeUpdateSchedule(event);\n      });\n      calendarInstRef.current.on(\"beforeDeleteSchedule\", function (event) {\n        onBeforeDeleteSchedule(event);\n      });\n      calendarInstRef.current.on(\"clickSchedule\", function (event) {\n        // var schedule = event.schedule;\n        // console.log(\"clickSchedule\", event);\n        // if (lastClickSchedule) {\n        //   calendarInstRef.current.updateSchedule(\n        //     lastClickSchedule.id,\n        //     lastClickSchedule.calendarId,\n        //     {\n        //       isFocused: false\n        //     }\n        //   );\n        // }\n        // calendarInstRef.current.updateSchedule(schedule.id, schedule.calendarId, {\n        //   isFocused: true\n        // });\n        // lastClickSchedule = schedule;\n        // open detail view\n      });\n      calendarInstRef.current.on(\"clickDayname\", function (event) {\n        // console.log(\"clickDayname\", event);\n        if (calendarInstRef.current.getViewName() === \"week\") {\n          calendarInstRef.current.setDate(new Date(event.date));\n          calendarInstRef.current.changeView(\"day\", true);\n        }\n      });\n\n      calendarInstRef.current.on(\"clickMore\", function (event) {\n        // console.log(\"clickMore\", event.date, event.target);\n      });\n\n      calendarInstRef.current.on(\"clickTimezonesCollapseBtn\", function (\n        timezonesCollapsed\n      ) {\n        // console.log(timezonesCollapsed);\n      });\n\n      calendarInstRef.current.on(\"afterRenderSchedule\", function (event) {\n        // var schedule = event.schedule;\n        // var element = calendarInstRef.current.getElement(\n        //   schedule.id,\n        //   schedule.calendarId\n        // );\n        // use the element\n        // console.log(element);\n      });\n\n      return () => {\n        calendarInstRef.current.destroy();\n      };\n    }, [tuiRef, schedules]);\n\n    useLayoutEffect(() => {\n      // console.log(\"before render\");\n    });\n\n    function currentCalendarDate(format) {\n      var currentDate = moment([\n        calendarInstRef.current.getDate().getFullYear(),\n        calendarInstRef.current.getDate().getMonth(),\n        calendarInstRef.current.getDate().getDate()\n      ]);\n\n      return currentDate.format(format);\n    }\n\n    function setRenderRangeText() {\n      var options = calendarInstRef.current.getOptions();\n      var viewName = calendarInstRef.current.getViewName();\n\n      var html = [];\n      if (viewName === \"day\") {\n        html.push(currentCalendarDate(\"YYYY.MM.DD\"));\n      } else if (\n        viewName === \"month\" &&\n        (!options.month.visibleWeeksCount ||\n          options.month.visibleWeeksCount > 4)\n      ) {\n        html.push(currentCalendarDate(\"YYYY.MM\"));\n      } else {\n        html.push(\n          moment(calendarInstRef.current.getDateRangeStart().getTime()).format(\n            \"YYYY.MM.DD\"\n          )\n        );\n        html.push(\" ~ \");\n        html.push(\n          moment(calendarInstRef.current.getDateRangeEnd().getTime()).format(\n            \" MM.DD\"\n          )\n        );\n      }\n      setRenderRange(html.join(\"\"));\n    }\n\n    function _getFormattedTime(time) {\n      const date = new Date(time);\n      const h = date.getHours();\n      const m = date.getMinutes();\n\n      return `${h}:${m}`;\n    }\n\n    function _getTimeTemplate(schedule, isAllDay) {\n      var html = [];\n\n      if (!isAllDay) {\n        html.push(\n          \"<strong>\" + _getFormattedTime(schedule.start) + \"</strong> \"\n        );\n      }\n      if (schedule.isPrivate) {\n        html.push('<span class=\"calendar-font-icon ic-lock-b\"></span>');\n        html.push(\" Private\");\n      } else {\n        if (schedule.isReadOnly) {\n          html.push('<span class=\"calendar-font-icon ic-readonly-b\"></span>');\n        } else if (schedule.recurrenceRule) {\n          html.push('<span class=\"calendar-font-icon ic-repeat-b\"></span>');\n        } else if (schedule.attendees.length) {\n          html.push('<span class=\"calendar-font-icon ic-user-b\"></span>');\n        } else if (schedule.location) {\n          html.push('<span class=\"calendar-font-icon ic-location-b\"></span>');\n        }\n\n        html.push(\" \" + schedule.title);\n      }\n\n      return html.join(\"\");\n    }\n\n    useEffect(() => {\n      document.addEventListener(\"click\", handleClick, false);\n\n      return () => {\n        document.removeEventListener(\"click\", handleClick, false);\n      };\n    });\n\n    const handleClick = (e) => {\n      if (wrapperRef.current?.contains(e.target)) {\n        // inside click\n        // console.log(\"inside\");\n        return;\n      }\n      // outside click\n      // ... do whatever on click outside here ...\n      // console.log(\"outside\");\n      setOpen(false);\n    };\n\n    const handleAllChecked = (event) => {\n      const cloneCheckedCalendars = [...checkedCalendars];\n      cloneCheckedCalendars.forEach(\n        (element) => (element.isChecked = event.target.checked)\n      );\n      setCheckedCalendars(cloneCheckedCalendars);\n      filterCalendar(cloneCheckedCalendars);\n    };\n\n    const handleCheckChieldElement = (event) => {\n      const cloneCheckedCalendars = [...checkedCalendars];\n      cloneCheckedCalendars.forEach((element) => {\n        if (element.id === event.target.value)\n          element.isChecked = event.target.checked;\n      });\n      setCheckedCalendars(cloneCheckedCalendars);\n      filterCalendar(cloneCheckedCalendars);\n    };\n\n    const filterCalendar = (cloneCheckedCalendars) => {\n      const filterCalendars = cloneCheckedCalendars\n        .filter((element) => element.isChecked === false)\n        .map((item) => item.id);\n      const cloneSchedules = filterSchedules.filter((element) => {\n        return filterCalendars.indexOf(element.calendarId) === -1;\n      });\n\n      // rerender\n      calendarInstRef.current.clear();\n      calendarInstRef.current.createSchedules(cloneSchedules, true);\n      calendarInstRef.current.render();\n    };\n\n    // const capitalizeFirstLetter = (value = \"\") => {\n    //   return [...value[0].toUpperCase(), ...value.slice(1)].join(\"\");\n    // };\n\n    function createSchedule(schedule) {\n      console.log(\"createSchedule\");\n\n      calendarInstRef.current.createSchedules([schedule]);\n      setFilterSchedules((prevState) => [...prevState, schedule]);\n    }\n\n    function updateSchedule(schedule, changes) {\n      console.log(\"updateSchedule\");\n\n      calendarInstRef.current.updateSchedule(\n        schedule.id,\n        schedule.calendarId,\n        changes\n      );\n      setFilterSchedules((prevState) =>\n        prevState.map((item) => {\n          if (item.id === schedule.id) {\n            return { ...item, ...changes };\n          }\n          return item;\n        })\n      );\n    }\n\n    function deleteSchedule(schedule) {\n      console.log(\"deleteSchedule\");\n\n      calendarInstRef.current.deleteSchedule(schedule.id, schedule.calendarId);\n      setFilterSchedules((prevState) =>\n        prevState.filter((item) => item.id !== schedule.id)\n      );\n    }\n\n    return (\n      <div>\n        {showSlidebar && (\n          <div id=\"lnb\">\n            {onCreate && (\n              <div className=\"lnb-new-schedule\">\n                <button\n                  id=\"btn-new-schedule\"\n                  type=\"button\"\n                  className=\"btn btn-default btn-block lnb-new-schedule-btn\"\n                  data-toggle=\"modal\"\n                  onClick={onCreate}\n                >\n                  {createText}\n                </button>\n              </div>\n            )}\n            <div id=\"lnb-calendars\" className=\"lnb-calendars\">\n              <div>\n                <div className=\"lnb-calendars-item\">\n                  <label>\n                    <input\n                      className=\"tui-full-calendar-checkbox-square\"\n                      type=\"checkbox\"\n                      defaultValue=\"all\"\n                      checked={checkedCalendars.every(\n                        (element) => element.isChecked === true\n                      )}\n                      onChange={handleAllChecked}\n                    />\n                    <span />\n                    <strong>View all</strong>\n                  </label>\n                </div>\n              </div>\n              <div id=\"calendarList\" className=\"lnb-calendars-d1\">\n                {checkedCalendars.map((element, i) => {\n                  return (\n                    <div key={i} className=\"lnb-calendars-item\">\n                      <label>\n                        <input\n                          type=\"checkbox\"\n                          className=\"tui-full-calendar-checkbox-round\"\n                          defaultValue={element.id}\n                          checked={element.isChecked}\n                          onChange={(e) => {\n                            handleCheckChieldElement(e);\n                          }}\n                        />\n                        <span\n                          style={{\n                            borderColor: element.bgColor,\n                            backgroundColor: element.isChecked\n                              ? element.bgColor\n                              : \"transparent\"\n                          }}\n                        />\n                        <span>{element.name}</span>\n                      </label>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            <div className=\"lnb-footer\">© NHN Corp.</div>\n          </div>\n        )}\n\n        <div id=\"right\" style={{ left: !showSlidebar && 0 }}>\n          {showMenu && (\n            <div id=\"menu\">\n              <span\n                ref={wrapperRef}\n                style={{ marginRight: \"4px\" }}\n                className={`dropdown ${open && \"open\"}`}\n              >\n                <button\n                  id=\"dropdownMenu-calendarType\"\n                  className=\"btn btn-default btn-sm dropdown-toggle\"\n                  type=\"button\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded={open}\n                  onClick={() => setOpen(!open)}\n                >\n                  <i\n                    id=\"calendarTypeIcon\"\n                    className=\"calendar-icon ic_view_week\"\n                    style={{ marginRight: \"4px\" }}\n                  />\n                  <span id=\"calendarTypeName\">{type}</span>&nbsp;\n                  <i className=\"calendar-icon tui-full-calendar-dropdown-arrow\" />\n                </button>\n                <ul\n                  className=\"dropdown-menu\"\n                  role=\"menu\"\n                  aria-labelledby=\"dropdownMenu-calendarType\"\n                >\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.changeView(\"day\", true);\n                        setType(\"Daily\");\n                        setOpen(false);\n                      }}\n                      className=\"dropdown-menu-title\"\n                      role=\"menuitem\"\n                      data-action=\"toggle-daily\"\n                    >\n                      <i className=\"calendar-icon ic_view_day\" />\n                      Daily\n                    </a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.changeView(\"week\", true);\n                        setType(\"Weekly\");\n                        setOpen(false);\n                      }}\n                      className=\"dropdown-menu-title\"\n                      role=\"menuitem\"\n                      data-action=\"toggle-weekly\"\n                    >\n                      <i className=\"calendar-icon ic_view_week\" />\n                      Weekly\n                    </a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.setOptions(\n                          { month: { visibleWeeksCount: 6 } },\n                          true\n                        ); // or null\n                        calendarInstRef.current.changeView(\"month\", true);\n                        setType(\"Month\");\n                        setOpen(false);\n                      }}\n                      className=\"dropdown-menu-title\"\n                      role=\"menuitem\"\n                      data-action=\"toggle-monthly\"\n                    >\n                      <i className=\"calendar-icon ic_view_month\" />\n                      Month\n                    </a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.setOptions(\n                          { month: { visibleWeeksCount: 2 } },\n                          true\n                        ); // or null\n                        calendarInstRef.current.changeView(\"month\", true);\n                        setType(\"2 weeks\");\n                        setOpen(false);\n                      }}\n                      className=\"dropdown-menu-title\"\n                      role=\"menuitem\"\n                      data-action=\"toggle-weeks2\"\n                    >\n                      <i className=\"calendar-icon ic_view_week\" />2 weeks\n                    </a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.setOptions(\n                          { month: { visibleWeeksCount: 3 } },\n                          true\n                        ); // or null\n                        calendarInstRef.current.changeView(\"month\", true);\n                        setType(\"3 weeks\");\n                        setOpen(false);\n                      }}\n                      className=\"dropdown-menu-title\"\n                      role=\"menuitem\"\n                      data-action=\"toggle-weeks3\"\n                    >\n                      <i className=\"calendar-icon ic_view_week\" />3 weeks\n                    </a>\n                  </li>\n                  <li role=\"presentation\" className=\"dropdown-divider\" />\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.setOptions(\n                          { month: { workweek } },\n                          true\n                        );\n                        calendarInstRef.current.setOptions(\n                          { week: { workweek } },\n                          true\n                        );\n                        calendarInstRef.current.changeView(\n                          calendarInstRef.current.getViewName(),\n                          true\n                        );\n                        setWorkweek(!workweek);\n                        setOpen(false);\n                      }}\n                      role=\"menuitem\"\n                      data-action=\"toggle-workweek\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        className=\"tui-full-calendar-checkbox-square\"\n                        checked={workweek}\n                      />\n                      <span className=\"checkbox-title\" />\n                      Show weekends\n                    </a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.setOptions(\n                          { week: { startDayOfWeek } },\n                          true\n                        );\n                        calendarInstRef.current.setOptions(\n                          { month: { startDayOfWeek } },\n                          true\n                        );\n                        calendarInstRef.current.changeView(\n                          calendarInstRef.current.getViewName(),\n                          true\n                        );\n                        setStartDayOfWeek(startDayOfWeek === 1 ? 0 : 1);\n                        setOpen(false);\n                      }}\n                      role=\"menuitem\"\n                      data-action=\"toggle-start-day-1\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        className=\"tui-full-calendar-checkbox-square\"\n                        checked={startDayOfWeek !== 1 ? true : false}\n                      />\n                      <span className=\"checkbox-title\" />\n                      Start Week on Monday\n                    </a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a\n                      href=\"/\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        calendarInstRef.current.setOptions(\n                          { month: { narrowWeekend } },\n                          true\n                        );\n                        calendarInstRef.current.setOptions(\n                          { week: { narrowWeekend } },\n                          true\n                        );\n                        calendarInstRef.current.changeView(\n                          calendarInstRef.current.getViewName(),\n                          true\n                        );\n                        setNarrowWeekend(!narrowWeekend);\n                        setOpen(false);\n                      }}\n                      role=\"menuitem\"\n                      data-action=\"toggle-narrow-weekend\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        className=\"tui-full-calendar-checkbox-square\"\n                        checked={narrowWeekend}\n                      />\n                      <span className=\"checkbox-title\" />\n                      Narrower than weekdays\n                    </a>\n                  </li>\n                </ul>\n              </span>\n\n              <span id=\"menu-navi\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm move-today\"\n                  style={{ marginRight: \"4px\" }}\n                  data-action=\"move-today\"\n                  onClick={() => {\n                    // console.log(\"today\");\n                    calendarInstRef.current.today();\n                    setRenderRangeText();\n                  }}\n                >\n                  Today\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm move-day\"\n                  style={{ marginRight: \"4px\" }}\n                  data-action=\"move-prev\"\n                  onClick={() => {\n                    // console.log(\"pre\");\n                    calendarInstRef.current.prev();\n                    setRenderRangeText();\n                  }}\n                >\n                  <i\n                    className=\"calendar-icon ic-arrow-line-left\"\n                    data-action=\"move-prev\"\n                  />\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm move-day\"\n                  style={{ marginRight: \"4px\" }}\n                  data-action=\"move-next\"\n                  onClick={() => {\n                    // console.log(\"next\");\n                    calendarInstRef.current.next();\n                    setRenderRangeText();\n                  }}\n                >\n                  <i\n                    className=\"calendar-icon ic-arrow-line-right\"\n                    data-action=\"move-next\"\n                  />\n                </button>\n              </span>\n              <span id=\"renderRange\" className=\"render-range\">\n                {renderRange}\n              </span>\n            </div>\n          )}\n          <div ref={tuiRef} style={{ height }} />\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default CustomTuiCalendar;\n"]},"metadata":{},"sourceType":"module"}